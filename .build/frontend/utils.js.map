{
  "version": 3,
  "sources": ["../../frontend/utils.ts"],
  "sourcesContent": ["// import dialogPolyfill from './nodemodules/dialog-polyfill/dist/dialog-polyfill.esm.js';\nlet SESSIONTIMEOUT, SESSIONTIMEOUT2 = null;\n\nfunction byId(name:string) {\n  return document.getElementById(name);\n}\nfunction globalOnload(cbk:()=>any) {\n\n  var script = document.createElement('script');\n  script.src = \"./nodemodules/dialog-polyfill/dist/dialog-polyfill.js\";\n  \n  document.head.appendChild(script); //or something of the likes\n\n  document.onkeydown = keydown;\n  \n  document.body.addEventListener(\"mouseover\", mouseOver);\n\n  // byId(\"overlay\").onclick=(e:Event)=>{\n  //   if (dialogQ) {\n  //     console.log(\"ClickOutside (Reject)\")\n  //     closeAlert(-1);\n  //   }\n  // };\n  send(JSON.stringify({ action: \"userRequest\" }),\n    (res) => {\n      document.documentElement.className = res.data.darkQ?\"dark\":\"\";\n      console.log(\"Loading complete; updating class\")\n      // let overlay = document.getElementById(\"overlayL\");\n      // if (overlay) {\n      //   // overlay.style.left=\"0vh\";\n      //   overlay.style.opacity=\"0\";\n      // }\n      let maincontent = document.getElementsByClassName(\"main_content\").item(0) as HTMLDivElement;\n      let ftr = document.createElement(\"footer\");\n      maincontent.appendChild(ftr);\n      \n      let ele = document.createElement(\"p\");\n      ele.id=\"footer\";\n      if (res.status != \"SUCCESS\")\n        ele.innerHTML = `<a href=\"/login?redirect=${window.location.pathname}\">Login</a> | \n                      <a href='/signup'>Sign-up</a> | \n                      <a href='/status'>Status</a> | \n                      BetaOS Systems V2, 2023`;\n      else {\n        resetExpiry(res);\n        ele.innerHTML = `Logged in as <kbd>${res.data.user}</kbd> |\n                      <a href='/logout'>Logout</a> | \n                      <a href='/config'>Account</a> | \n                      <a href='/status'>Status</a> | \n                      <a href='javascript:send(JSON.stringify({action:\"toggleTheme\"}), (res)=>{if (res.status != \"SUCCESS\") alertDialog(\"Error: \"+res.data.error, ()=>{});else {alertDialog(\"Theme updated!\", ()=>{location.reload()}); }})'>Theme</a> |\n                      BetaOS Systems V2, 2023`;\n      }\n      ftr.appendChild(ele);\n      send(JSON.stringify({ action: \"visits\" }),\n        (res) => {\n          \n          if (res.status != \"SUCCESS\") {\n            alertDialog(\"Database connection failure. Please contact BetaOS.\", ()=>{});\n            ele.innerHTML = `<kbd class=\"red nohover\">Database connection failure.</kbd>`\n          }// this means the database died \n          document.getElementById(\"footer\").innerHTML += \" | <kbd>\"+res.data.data+\"</kbd>\";\n          send(JSON.stringify({action:\"cookieRequest\"}), (res)=>{\n            if (res.data.toString() == \"false\") {\n              // console.log(\"thing\");\n              let cpl = document.getElementById(\"compliance\");\n              cpl.style.opacity=\"1\";\n              cpl.style.pointerEvents=\"auto\";\n              // document.getElementById(\"compliance\").style.top=\"unset\";\n            }\n            else {\n              let cpl = document.getElementById(\"compliance\");\n              cpl.style.opacity=\"0\";\n              cpl.style.pointerEvents=\"none\";\n            }\n            if (cbk) cbk();\n          }, true);\n        }, true);\n      \n    }, true);\n\n  \n  // let ele2 = document.getElementById(\"overlay\");\n  // if (ele2)\n  //   ele2.innerHTML = \n    // document.getElementById(\"internal_alerts\").addEventListener(\"click\", ()=>{});\n  // document.body.innerHTML += `\n  // <div class=\"internal\" id=\"internal_alerts\" onclick=\"if (dialogQ && !BLOCKCALLBACK) closeAlert(false, false)\" style=\"opacity: 0; text-align: center !important\">\n  //       <p class=\"fsmed\" id=\"alerttext_v2\">Error: AlertDialog configured incorrectly. Please contact BetaOS.</p>\n  //       <div style=\"text-align: center;\"><button class=\"btn szHalf override\" onclick=\"closeAlert()\" style=\"display: inline-block\">\n  //         <span class=\"alertlbl\">Continue</span>\n  //         <span class=\"material-symbols-outlined\">arrow_forward_ios</span>\n  //         <div class=\"anim\"></div>\n  //       </button>\n  //       <button class=\"btn szHalf red override\" id=\"cancelBtn\" style=\"display: none\" onclick=\"closeAlert(true)\">\n  //         <span class=\"alertlbl\">Cancel</span>\n  //         <span class=\"material-symbols-outlined\">cancel</span>\n  //         <div class=\"anim\"></div>\n  //       </button></div>\n  //     </div>`;\n  \n  // else console.log(\"Alert dialogs disabled on this page\");\n  \n  let ele = document.getElementById(\"\");\n  document.body.innerHTML += `\n  <div id=\"compliance\">\n    <h2 class=\"blu nohover\"><span class=\"material-symbols-outlined\">cookie </span> BetaOS Services uses cookies to operate.</h2>\n    <p>We use only <kbd>strictly necessary cookies</kbd> to verify and persist \n    your login session, and to confirm your acceptance of these cookies. <br>\n    By continuing to use this site, you consent to our use of these cookies.</p>\n    <button class='blu btn fsmed' onclick=\"acceptCookies()\">\n    <span class=\"material-symbols-outlined\">check</span>\n    I understand\n    <div class=\"anim\"></div>\n    </button>\n  </div>`;\n  \n}\n\nfunction send(params: any, callback: (thing: any) => any, onLoadQ:boolean=false) {\n  let overlay = document.getElementById(\"overlayL\");\n  console.log(onLoadQ)\n  if (overlay && !onLoadQ) {\n    console.log(\"overlay active\")\n    overlay.style.opacity=\"1\";\n    overlay.style.backgroundColor=\"var(--system-overlay)\";\n  }\n  var xhr = new XMLHttpRequest();\n  xhr.open(\"POST\", \"/server\", true);\n  xhr.setRequestHeader(\"Content-type\", \"application/json; charset=utf-8\");\n  xhr.onreadystatechange = () => {\n    if (xhr.readyState == 4 && xhr.status == 200) {\n      if (overlay) {\n        overlay.style.opacity=\"0\";\n        overlay.style.backgroundColor=\"var(--system-grey2)\";\n      }\n      if (failureTimeout) clearTimeout(failureTimeout);\n      failureTimeout = null;\n      callback(JSON.parse(xhr.responseText));\n    }\n    else if (xhr.readyState == 4 && xhr.status != 200) {\n      if (failureTimeout) clearTimeout(failureTimeout);\n      // else closeAlert(true);\n      failureTimeout = null;\n      alertDialog(\"Received status code \" +xhr.status+\" - resend request?\", ()=>{send(params, callback, onLoadQ);}, 2);\n    }\n  }\n  console.log(params);\n  xhr.send(params);\n  let failureTimeout = setTimeout(() => alertDialog(`This is taking longer than expected.`, () => { }, 1, params), 5000);\n}\n\nfunction acceptCookies() {\n  send(JSON.stringify({action:\"acceptCookies\"}), (res)=> {});\n  let cpm = document.getElementById(\"compliance\")\n  cpm.style.opacity=\"0\";\n  cpm.style.pointerEvents=\"none\"\n}\n\n// let TIME:NodeJS.Timeout|null;\nlet dialogQ = false;\n// let cbk: () => any = () => { };\n// let BLOCKCALLBACK = false;\nfunction alertDialog(str: string, callback: () => any = ()=>{}, button: number = -1, failedReq: string = \"\") {\n  // if (TIME) clearTimeout(TIME);\n  // TIME = null;\n  // console.log(\"Timeout cleared\")\n  // e.preventDefault();\n  let newDialog = document.createElement(\"dialog\");\n  dialogPolyfill.registerDialog(newDialog);\n  document.body.appendChild(newDialog);\n  newDialog.className = \"internal ALERT\";\n  newDialog.id=\"internal_alerts\";\n  \n  newDialog.style.opacity = \"0\";\n  newDialog.style.textAlign=\"center\";\n  newDialog.innerHTML = `\n    <p class=\"fsmed\" id=\"alerttext_v2\">Error: AlertDialog configured incorrectly. Please contact BetaOS.</p>\n    <div style=\"text-align: center;\"><button id=\"confirmbtn\" class=\"btn szHalf override\" onclick=\"console.log('ConfirmClick'); closeAlert(1)\" style=\"display: inline-block\">\n      <span class=\"alertlbl\">Continue</span>\n      <span class=\"material-symbols-outlined\">arrow_forward_ios</span>\n      <div class=\"anim\"></div>\n    </button>\n    <button class=\"btn szHalf red override\" id=\"cancelBtn\" style=\"display: none\" onclick=\"console.log('RejectClick'); closeAlert(-1)\">\n      <span class=\"alertlbl\">Cancel</span>\n      <span class=\"material-symbols-outlined\">cancel</span>\n      <div class=\"anim\"></div>\n    </button></div>`;\n  \n  setTimeout(()=>{\n    newDialog.style.opacity=\"1\";\n    newDialog.style.top = \"18px\";\n  }, 0);\n  newDialog.setAttribute(\"type\", button+\"\")\n  // newDialog.setAttribute(\"callback\", callback.toString())\n  newDialog.callback = callback; \n  // console.log(newDialog.callback)\n  let overlay = document.getElementById(\"overlayL\");\n  if (overlay) {\n    overlay.style.opacity=\"0\";\n  }\n  let ele = document.getElementById(\"overlay\") as HTMLDivElement;\n  ele.innerHTML=\"\";\n  let p = newDialog.querySelector(\"#alerttext_v2\");\n  if (!ele || !p) {\n    console.log(\"ERROR: Alert dialogs not enabled in this page.\")\n    callback();\n    return;\n  }\n  \n  ele.style.opacity=\"1\";\n  newDialog.style.opacity=\"1\";\n  // newDialog.style.top = \"0vh \";\n  newDialog.style.pointerEvents=\"auto\";\n  dialogQ = true;\n  p.innerText = str;\n  p.innerHTML += \"<br><br><p style='margin: 10px auto' class='gry nohover'>(Press ENTER or ESC)</p>\"\n  newDialog.querySelector(\"#cancelBtn\").style.display = \"none\";\n  if (button == 1) {\n    p.innerHTML += `<button class='btn szThird fssml' id=\"refresh\" onclick='location.reload()'>\n    <span class=\"material-symbols-outlined\">history</span> Refresh?\n    <div class=\"anim\"></div></button>`\n    console.log(\"Alert-type: FAILEDREQUEST\" + failedReq);\n  }\n  else if (button == 2) {\n    newDialog.querySelector(\"#cancelBtn\").style.display = \"inline-block\";\n    console.log(\"Alert-type CANCELLABLE\");\n  }\n  else console.log(\"Alert-type: STANDARD\");\n  newDialog.showModal();\n  // if (failureTimeout) clearTimeout(failureTimeout);\n  // failureTimeout = null;\n}\n\n// three ways to close a dialog. \n// acknowledged a callback (enter key)\n// cancelled a callback (escape key) - only for type-two\n// clicked outside (depends on alert type)\nfunction closeAlert(sel:number) {\n  let ele = document.getElementById(\"overlay\") as HTMLDivElement;\n  // let dialog = \n  let coll = document.getElementsByClassName(\"ALERT\");\n  let dialog = coll.item(coll.length-1);\n  let overridecallback=false;\n  if (dialog.getAttribute(\"type\")==2 && sel < 0) overridecallback = true;\n  if (!ele) {\n    console.log(\"Alert dialogs not enabled in this page\");\n    return;\n  }\n  \n  dialog.style.top = \"50vh\";\n  dialog.style.opacity=\"0\";\n  dialog.style.pointerEvents=\"none\";\n  // console.log(dialog.callback)\n  if (!overridecallback) {\n    try {dialog.callback(); }\n    catch (e:any) {alertDialog(\"Error while calling back: \"+e, ()=>{});}\n  }\n  dialog.remove();\n\n  \n  // eval(\"(()=>{\"+dialog.getAttribute(\"callback\")+\"})()\");\n  // dialog.\n  if (!byId(\"internal_alerts\") && !DIALOGOPEN) {\n    dialogQ = false;\n    ele.style.opacity=\"0\";\n    ele.style.pointerEvents=\"none\";\n  }\n  // if (cbk && !overrideCallback) {\n  //   console.log(\"calling back\")\n  //   // cbk();\n  // }\n}\n\nfunction keydown(e: Event) {\n  if (e.defaultPrevented) {\n    console.log(\"prevent-defaulted\");\n    return;\n  }\n  if(dialogQ && (e.key == \"Escape\"||e.key == \"Enter\")) {\n    e.preventDefault();\n    if (e.key == \"Escape\") {\n      console.log(\"RejectKey\")\n      closeAlert(-1);\n    }\n    else {\n      console.log(\"ConfirmKey\")\n      closeAlert(1);\n    }\n  }\n}\n\nfunction toTime(ms: number) {\n  let day = Math.floor(ms / 1000 / 60 / 60 / 24);\n  ms = ms % (1000 * 60 * 60 * 24);\n  let hr = Math.floor(ms / 1000 / 60 / 60);\n  ms = ms % (1000 * 60 * 60);\n  let min = Math.floor(ms / 1000 / 60);\n  ms = ms % (1000 * 60);\n  let sec = Math.floor(ms / 1000);\n  if (ms < 0) return \"00:00:00\";\n  return (day > 0 ? day + \"d \" : \"\") + padWithZero(hr) + \":\" + padWithZero(min) + \":\" + padWithZero(sec);\n}\n\nfunction padWithZero(n: number) {\n  return n < 10 ? \"0\" + n : n;\n}\n\nlet overlay:HTMLDivElement;\naddEventListener(\"DOMContentLoaded\", function() {\n  overlay = document.createElement(\"div\");\n  overlay.className = \"overlayLoader\"\n  overlay.id = \"overlayL\";\n  // overlay.style.left=\"0vh\";\n  overlay.style.backgroundColor=\"var(--system-overlay)\";\n  overlay.style.opacity=\"1\";\n  overlay.innerHTML = `<span class=\"material-symbols-outlined loader\">sync</span>\n  <p class=\"loadp fslg grn nohover\">Loading.</p>`\n  // document.appendChild(document.createElement(\"body\"));\n  document.body.appendChild(overlay);\n  // console.log(document.body.innerHTML)\n  \n  // screw with the meta tags\n  let metatags = document.createElement(\"meta\");\n  metatags.content = \"width=device-width; initial-scale=1.0; min-scale=1.0\";\n  metatags.name = \"viewport\";\n  document.head.appendChild(metatags);\n});\n\nlet DIALOGOPEN = false;\nfunction closeDialog(thing:()=>any, name:string=\"dialog\") {\n  let div = document.getElementById(name);\n  div.style.top = \"50%\";\n  div.style.opacity=\"0\";\n  div.style.pointerEvents=\"none\";\n  DIALOGOPEN=false;\n  document.getElementById(\"overlay\").style.opacity = \"0\";\n  thing();\n  \n  // document.getElementById(\"startBtn\").focus();\n}\n\nfunction openDialog(name:string=\"dialog\") {\n  let div = document.getElementById(name);\n  div.style.top = \"0px\";\n  div.style.opacity=\"1\";\n  div.style.pointerEvents=\"auto\";\n  // ???\n  DIALOGOPEN=true;\n  document.getElementById(\"overlay\").style.opacity = \"1\";\n  // document.getElementById(\"startBtn\").focus();\n  // document.getElementById(\"startBtn\").focus();\n}\n\nfunction mouseOver(e:MouseEvent) {\n  let ele = e.target;\n  let text = ele.innerHTML.replaceAll(/<.*((>.*<\\/.*>)|(\\/>))/gmiu, \"\").replaceAll(\"\\n\", \"\").trim();\n  // fuck off this is good enough, it's not even used as raw html\n  if (ele.className.match(/(\\W|^)btn(\\W|$)/)) {\n    let tooltip = ele.children.namedItem(\"TOOLTIP\");\n    if (!tooltip) {\n      tooltip = document.createElement(\"span\");\n      tooltip.innerText = text;\n      tooltip.id=\"TOOLTIP\";\n      tooltip.className=\"TOOLTIP override\"\n      ele.appendChild(tooltip);\n      ele.style.animation = 'none';  \n      ele.offsetHeight; /* trigger reflow */   \n      ele.style.animation = null; \n    }\n  }\n}\n\nfunction resetExpiry(res:any) {\n  if (res.data.expiry < Date.now()) {\n    return;\n    //alertDialog(\"Error: Your session has expired!\", ()=>{location.href = \"/login?redirect=\"+window.location.pathname});\n  }\n  SESSIONTIMEOUT = setTimeout(()=>{\n    alertDialog(\"Your session has expired\", ()=>{\n      location.reload();\n    })\n  }, res.data.expiry - Date.now());\n  SESSIONTIMEOUT2 = setTimeout(()=>{\n    // document.title = \"\"+document.title;\n    alertDialog(\"Your session is expiring in one minute, extend session? \", ()=>{\n      send(JSON.stringify({action:\"extendSession\"}), (res:{data:{expiry:number}})=>{\n        alertDialog(\"Session extended, expires in \"+toTime(res.data.expiry - Date.now()), ()=>{});\n        clearTimeout(SESSIONTIMEOUT);\n        clearTimeout(SESSIONTIMEOUT2);\n        resetExpiry(res);\n      });\n    }, 2)\n  }, Math.max(res.data.expiry - Date.now() - 60000, 1000))\n}"],
  "mappings": ";AACA,IAAI,gBAAgB,kBAAkB;AAEtC,SAAS,KAAK,MAAa;AACzB,SAAO,SAAS,eAAe,IAAI;AACrC;AACA,SAAS,aAAa,KAAa;AAEjC,MAAI,SAAS,SAAS,cAAc,QAAQ;AAC5C,SAAO,MAAM;AAEb,WAAS,KAAK,YAAY,MAAM;AAEhC,WAAS,YAAY;AAErB,WAAS,KAAK,iBAAiB,aAAa,SAAS;AAQrD;AAAA,IAAK,KAAK,UAAU,EAAE,QAAQ,cAAc,CAAC;AAAA,IAC3C,CAAC,QAAQ;AACP,eAAS,gBAAgB,YAAY,IAAI,KAAK,QAAM,SAAO;AAC3D,cAAQ,IAAI,kCAAkC;AAM9C,UAAI,cAAc,SAAS,uBAAuB,cAAc,EAAE,KAAK,CAAC;AACxE,UAAI,MAAM,SAAS,cAAc,QAAQ;AACzC,kBAAY,YAAY,GAAG;AAE3B,UAAIA,OAAM,SAAS,cAAc,GAAG;AACpC,MAAAA,KAAI,KAAG;AACP,UAAI,IAAI,UAAU;AAChB,QAAAA,KAAI,YAAY,4BAA4B,OAAO,SAAS;AAAA;AAAA;AAAA;AAAA,WAIzD;AACH,oBAAY,GAAG;AACf,QAAAA,KAAI,YAAY,qBAAqB,IAAI,KAAK;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAMhD;AACA,UAAI,YAAYA,IAAG;AACnB;AAAA,QAAK,KAAK,UAAU,EAAE,QAAQ,SAAS,CAAC;AAAA,QACtC,CAACC,SAAQ;AAEP,cAAIA,KAAI,UAAU,WAAW;AAC3B,wBAAY,uDAAuD,MAAI;AAAA,YAAC,CAAC;AACzE,YAAAD,KAAI,YAAY;AAAA,UAClB;AACA,mBAAS,eAAe,QAAQ,EAAE,aAAa,aAAWC,KAAI,KAAK,OAAK;AACxE,eAAK,KAAK,UAAU,EAAC,QAAO,gBAAe,CAAC,GAAG,CAACA,SAAM;AACpD,gBAAIA,KAAI,KAAK,SAAS,KAAK,SAAS;AAElC,kBAAI,MAAM,SAAS,eAAe,YAAY;AAC9C,kBAAI,MAAM,UAAQ;AAClB,kBAAI,MAAM,gBAAc;AAAA,YAE1B,OACK;AACH,kBAAI,MAAM,SAAS,eAAe,YAAY;AAC9C,kBAAI,MAAM,UAAQ;AAClB,kBAAI,MAAM,gBAAc;AAAA,YAC1B;AACA,gBAAI;AAAK,kBAAI;AAAA,UACf,GAAG,IAAI;AAAA,QACT;AAAA,QAAG;AAAA,MAAI;AAAA,IAEX;AAAA,IAAG;AAAA,EAAI;AAwBT,MAAI,MAAM,SAAS,eAAe,EAAE;AACpC,WAAS,KAAK,aAAa;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAa7B;AAEA,SAAS,KAAK,QAAa,UAA+B,UAAgB,OAAO;AAC/E,MAAIC,WAAU,SAAS,eAAe,UAAU;AAChD,UAAQ,IAAI,OAAO;AACnB,MAAIA,YAAW,CAAC,SAAS;AACvB,YAAQ,IAAI,gBAAgB;AAC5B,IAAAA,SAAQ,MAAM,UAAQ;AACtB,IAAAA,SAAQ,MAAM,kBAAgB;AAAA,EAChC;AACA,MAAI,MAAM,IAAI,eAAe;AAC7B,MAAI,KAAK,QAAQ,WAAW,IAAI;AAChC,MAAI,iBAAiB,gBAAgB,iCAAiC;AACtE,MAAI,qBAAqB,MAAM;AAC7B,QAAI,IAAI,cAAc,KAAK,IAAI,UAAU,KAAK;AAC5C,UAAIA,UAAS;AACX,QAAAA,SAAQ,MAAM,UAAQ;AACtB,QAAAA,SAAQ,MAAM,kBAAgB;AAAA,MAChC;AACA,UAAI;AAAgB,qBAAa,cAAc;AAC/C,uBAAiB;AACjB,eAAS,KAAK,MAAM,IAAI,YAAY,CAAC;AAAA,IACvC,WACS,IAAI,cAAc,KAAK,IAAI,UAAU,KAAK;AACjD,UAAI;AAAgB,qBAAa,cAAc;AAE/C,uBAAiB;AACjB,kBAAY,0BAAyB,IAAI,SAAO,sBAAsB,MAAI;AAAC,aAAK,QAAQ,UAAU,OAAO;AAAA,MAAE,GAAG,CAAC;AAAA,IACjH;AAAA,EACF;AACA,UAAQ,IAAI,MAAM;AAClB,MAAI,KAAK,MAAM;AACf,MAAI,iBAAiB,WAAW,MAAM,YAAY,wCAAwC,MAAM;AAAA,EAAE,GAAG,GAAG,MAAM,GAAG,GAAI;AACvH;AAEA,SAAS,gBAAgB;AACvB,OAAK,KAAK,UAAU,EAAC,QAAO,gBAAe,CAAC,GAAG,CAAC,QAAO;AAAA,EAAC,CAAC;AACzD,MAAI,MAAM,SAAS,eAAe,YAAY;AAC9C,MAAI,MAAM,UAAQ;AAClB,MAAI,MAAM,gBAAc;AAC1B;AAGA,IAAI,UAAU;AAGd,SAAS,YAAY,KAAa,WAAsB,MAAI;AAAC,GAAG,SAAiB,IAAI,YAAoB,IAAI;AAK3G,MAAI,YAAY,SAAS,cAAc,QAAQ;AAC/C,iBAAe,eAAe,SAAS;AACvC,WAAS,KAAK,YAAY,SAAS;AACnC,YAAU,YAAY;AACtB,YAAU,KAAG;AAEb,YAAU,MAAM,UAAU;AAC1B,YAAU,MAAM,YAAU;AAC1B,YAAU,YAAY;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAatB,aAAW,MAAI;AACb,cAAU,MAAM,UAAQ;AACxB,cAAU,MAAM,MAAM;AAAA,EACxB,GAAG,CAAC;AACJ,YAAU,aAAa,QAAQ,SAAO,EAAE;AAExC,YAAU,WAAW;AAErB,MAAIA,WAAU,SAAS,eAAe,UAAU;AAChD,MAAIA,UAAS;AACX,IAAAA,SAAQ,MAAM,UAAQ;AAAA,EACxB;AACA,MAAI,MAAM,SAAS,eAAe,SAAS;AAC3C,MAAI,YAAU;AACd,MAAI,IAAI,UAAU,cAAc,eAAe;AAC/C,MAAI,CAAC,OAAO,CAAC,GAAG;AACd,YAAQ,IAAI,gDAAgD;AAC5D,aAAS;AACT;AAAA,EACF;AAEA,MAAI,MAAM,UAAQ;AAClB,YAAU,MAAM,UAAQ;AAExB,YAAU,MAAM,gBAAc;AAC9B,YAAU;AACV,IAAE,YAAY;AACd,IAAE,aAAa;AACf,YAAU,cAAc,YAAY,EAAE,MAAM,UAAU;AACtD,MAAI,UAAU,GAAG;AACf,MAAE,aAAa;AAAA;AAAA;AAGf,YAAQ,IAAI,8BAA8B,SAAS;AAAA,EACrD,WACS,UAAU,GAAG;AACpB,cAAU,cAAc,YAAY,EAAE,MAAM,UAAU;AACtD,YAAQ,IAAI,wBAAwB;AAAA,EACtC;AACK,YAAQ,IAAI,sBAAsB;AACvC,YAAU,UAAU;AAGtB;AAMA,SAAS,WAAW,KAAY;AAC9B,MAAI,MAAM,SAAS,eAAe,SAAS;AAE3C,MAAI,OAAO,SAAS,uBAAuB,OAAO;AAClD,MAAI,SAAS,KAAK,KAAK,KAAK,SAAO,CAAC;AACpC,MAAI,mBAAiB;AACrB,MAAI,OAAO,aAAa,MAAM,KAAG,KAAK,MAAM;AAAG,uBAAmB;AAClE,MAAI,CAAC,KAAK;AACR,YAAQ,IAAI,wCAAwC;AACpD;AAAA,EACF;AAEA,SAAO,MAAM,MAAM;AACnB,SAAO,MAAM,UAAQ;AACrB,SAAO,MAAM,gBAAc;AAE3B,MAAI,CAAC,kBAAkB;AACrB,QAAI;AAAC,aAAO,SAAS;AAAA,IAAG,SACjB,GAAP;AAAe,kBAAY,+BAA6B,GAAG,MAAI;AAAA,MAAC,CAAC;AAAA,IAAE;AAAA,EACrE;AACA,SAAO,OAAO;AAKd,MAAI,CAAC,KAAK,iBAAiB,KAAK,CAAC,YAAY;AAC3C,cAAU;AACV,QAAI,MAAM,UAAQ;AAClB,QAAI,MAAM,gBAAc;AAAA,EAC1B;AAKF;AAEA,SAAS,QAAQ,GAAU;AACzB,MAAI,EAAE,kBAAkB;AACtB,YAAQ,IAAI,mBAAmB;AAC/B;AAAA,EACF;AACA,MAAG,YAAY,EAAE,OAAO,YAAU,EAAE,OAAO,UAAU;AACnD,MAAE,eAAe;AACjB,QAAI,EAAE,OAAO,UAAU;AACrB,cAAQ,IAAI,WAAW;AACvB,iBAAW,EAAE;AAAA,IACf,OACK;AACH,cAAQ,IAAI,YAAY;AACxB,iBAAW,CAAC;AAAA,IACd;AAAA,EACF;AACF;AAEA,SAAS,OAAO,IAAY;AAC1B,MAAI,MAAM,KAAK,MAAM,KAAK,MAAO,KAAK,KAAK,EAAE;AAC7C,OAAK,MAAM,MAAO,KAAK,KAAK;AAC5B,MAAI,KAAK,KAAK,MAAM,KAAK,MAAO,KAAK,EAAE;AACvC,OAAK,MAAM,MAAO,KAAK;AACvB,MAAI,MAAM,KAAK,MAAM,KAAK,MAAO,EAAE;AACnC,OAAK,MAAM,MAAO;AAClB,MAAI,MAAM,KAAK,MAAM,KAAK,GAAI;AAC9B,MAAI,KAAK;AAAG,WAAO;AACnB,UAAQ,MAAM,IAAI,MAAM,OAAO,MAAM,YAAY,EAAE,IAAI,MAAM,YAAY,GAAG,IAAI,MAAM,YAAY,GAAG;AACvG;AAEA,SAAS,YAAY,GAAW;AAC9B,SAAO,IAAI,KAAK,MAAM,IAAI;AAC5B;AAEA,IAAI;AACJ,iBAAiB,oBAAoB,WAAW;AAC9C,YAAU,SAAS,cAAc,KAAK;AACtC,UAAQ,YAAY;AACpB,UAAQ,KAAK;AAEb,UAAQ,MAAM,kBAAgB;AAC9B,UAAQ,MAAM,UAAQ;AACtB,UAAQ,YAAY;AAAA;AAGpB,WAAS,KAAK,YAAY,OAAO;AAIjC,MAAI,WAAW,SAAS,cAAc,MAAM;AAC5C,WAAS,UAAU;AACnB,WAAS,OAAO;AAChB,WAAS,KAAK,YAAY,QAAQ;AACpC,CAAC;AAED,IAAI,aAAa;AACjB,SAAS,YAAY,OAAe,OAAY,UAAU;AACxD,MAAI,MAAM,SAAS,eAAe,IAAI;AACtC,MAAI,MAAM,MAAM;AAChB,MAAI,MAAM,UAAQ;AAClB,MAAI,MAAM,gBAAc;AACxB,eAAW;AACX,WAAS,eAAe,SAAS,EAAE,MAAM,UAAU;AACnD,QAAM;AAGR;AAEA,SAAS,WAAW,OAAY,UAAU;AACxC,MAAI,MAAM,SAAS,eAAe,IAAI;AACtC,MAAI,MAAM,MAAM;AAChB,MAAI,MAAM,UAAQ;AAClB,MAAI,MAAM,gBAAc;AAExB,eAAW;AACX,WAAS,eAAe,SAAS,EAAE,MAAM,UAAU;AAGrD;AAEA,SAAS,UAAU,GAAc;AAC/B,MAAI,MAAM,EAAE;AACZ,MAAI,OAAO,IAAI,UAAU,WAAW,8BAA8B,EAAE,EAAE,WAAW,MAAM,EAAE,EAAE,KAAK;AAEhG,MAAI,IAAI,UAAU,MAAM,iBAAiB,GAAG;AAC1C,QAAI,UAAU,IAAI,SAAS,UAAU,SAAS;AAC9C,QAAI,CAAC,SAAS;AACZ,gBAAU,SAAS,cAAc,MAAM;AACvC,cAAQ,YAAY;AACpB,cAAQ,KAAG;AACX,cAAQ,YAAU;AAClB,UAAI,YAAY,OAAO;AACvB,UAAI,MAAM,YAAY;AACtB,UAAI;AACJ,UAAI,MAAM,YAAY;AAAA,IACxB;AAAA,EACF;AACF;AAEA,SAAS,YAAY,KAAS;AAC5B,MAAI,IAAI,KAAK,SAAS,KAAK,IAAI,GAAG;AAChC;AAAA,EAEF;AACA,mBAAiB,WAAW,MAAI;AAC9B,gBAAY,4BAA4B,MAAI;AAC1C,eAAS,OAAO;AAAA,IAClB,CAAC;AAAA,EACH,GAAG,IAAI,KAAK,SAAS,KAAK,IAAI,CAAC;AAC/B,oBAAkB,WAAW,MAAI;AAE/B,gBAAY,4DAA4D,MAAI;AAC1E,WAAK,KAAK,UAAU,EAAC,QAAO,gBAAe,CAAC,GAAG,CAACD,SAA6B;AAC3E,oBAAY,kCAAgC,OAAOA,KAAI,KAAK,SAAS,KAAK,IAAI,CAAC,GAAG,MAAI;AAAA,QAAC,CAAC;AACxF,qBAAa,cAAc;AAC3B,qBAAa,eAAe;AAC5B,oBAAYA,IAAG;AAAA,MACjB,CAAC;AAAA,IACH,GAAG,CAAC;AAAA,EACN,GAAG,KAAK,IAAI,IAAI,KAAK,SAAS,KAAK,IAAI,IAAI,KAAO,GAAI,CAAC;AACzD;",
  "names": ["ele", "res", "overlay"]
}
