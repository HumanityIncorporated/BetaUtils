{
  "version": 3,
  "sources": ["../issuetracker.ts"],
  "sourcesContent": ["import {issueDB} from './consts'\nimport {userRequest} from './userRequest'\nexport async function newIssue(title:string, body:string, token:string, sessID:string) \n{\n  console.log(sessID);\n  let data = await issueDB.findOne({fieldName:\"MetaData\"});\n  let req = await userRequest(token);\n  let auth = \"Anonymous user \"+sessID.slice(0,7);\n  if (req.status == \"SUCCESS\") auth = req.data.user;\n  await issueDB.insertOne({fieldName:\"Issue\", id:data?data.issueCt+1:1, title:title, body:body, author:auth});  \n  if (data) \n    await issueDB.updateOne({fieldName:\"MetaData\"}, {\n      $inc: {issueCt: 1}\n    });\n  else await issueDB.insertOne({fieldName:\"MetaData\", issueCt:1});\n  return {status:\"SUCCESS\", data:{id:data.issueCt+1}, token:token};\n}\n\nexport async function loadIssues(from:number, to:number, token:string) \n{\n  let out = await issueDB.find({fieldName:\"Issue\", id:{$gte:from, $lte:to}}).toArray();\n  return {status:\"SUCCESS\", data:out, token:token};\n}"],
  "mappings": ";;;;;;;;;;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAAsB;AACtB,yBAA0B;AAC1B,eAAsB,SAAS,OAAc,MAAa,OAAc,QACxE;AACE,UAAQ,IAAI,MAAM;AAClB,MAAI,OAAO,MAAM,sBAAQ,QAAQ,EAAC,WAAU,WAAU,CAAC;AACvD,MAAI,MAAM,UAAM,gCAAY,KAAK;AACjC,MAAI,OAAO,oBAAkB,OAAO,MAAM,GAAE,CAAC;AAC7C,MAAI,IAAI,UAAU;AAAW,WAAO,IAAI,KAAK;AAC7C,QAAM,sBAAQ,UAAU,EAAC,WAAU,SAAS,IAAG,OAAK,KAAK,UAAQ,IAAE,GAAG,OAAa,MAAW,QAAO,KAAI,CAAC;AAC1G,MAAI;AACF,UAAM,sBAAQ,UAAU,EAAC,WAAU,WAAU,GAAG;AAAA,MAC9C,MAAM,EAAC,SAAS,EAAC;AAAA,IACnB,CAAC;AAAA;AACE,UAAM,sBAAQ,UAAU,EAAC,WAAU,YAAY,SAAQ,EAAC,CAAC;AAC9D,SAAO,EAAC,QAAO,WAAW,MAAK,EAAC,IAAG,KAAK,UAAQ,EAAC,GAAG,MAAW;AACjE;AAEA,eAAsB,WAAW,MAAa,IAAW,OACzD;AACE,MAAI,MAAM,MAAM,sBAAQ,KAAK,EAAC,WAAU,SAAS,IAAG,EAAC,MAAK,MAAM,MAAK,GAAE,EAAC,CAAC,EAAE,QAAQ;AACnF,SAAO,EAAC,QAAO,WAAW,MAAK,KAAK,MAAW;AACjD;",
  "names": []
}
