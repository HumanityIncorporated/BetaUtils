{
  "version": 3,
  "sources": ["../server.ts"],
  "sourcesContent": ["const express = require('express')\nconst enableWs = require('express-ws');\nconst app = express()\n// require(\"dialog-polyfill\");\nconst crypto = require(\"crypto\");\nconst parse = require(\"co-body\");\nconst cors = require(\"cors\");\nconst fs = require('fs');\nimport Handlebars from \"handlebars\";\n // for generating secure random #'s\nimport {connectionSuccess} from './index';\nimport {port, msgDB, authDB, frontendDir, roomRegex, rootDir, jsDir, uDB} from './consts';\nimport {signup, validateLogin, logout} from './validateLogin';\nimport { deleteAccount } from './delacc';\nimport {updateUser, realias, toggleTheme} from './updateUser'\nimport {userRequest, extendSession} from './userRequest';\nimport {EE} from './EEHandler';\nimport {paste, findPaste, editPaste} from './paste';\nimport {addTask, getTasks, updateTask, deleteTask} from './tasks';\nimport {getLogs, log, purgeLogs, visitCt, incrRequests} from './logging';\nconst bodyParser = require('body-parser');\nconst cookieParser = require('cookie-parser')\nimport {clickIt, getLeaderboard} from './button';\nimport { WebSocketServer } from 'ws';\nimport {newIssue, loadIssues, deleteIssue, completeIssue, editIssue} from './issuetracker'\nimport {uptime} from './betautilities/messageHandle'\nimport {supportHandler, roomRequest, sendMsg, \n        createRoom, deleteRoom, WHOIS, loadLogs, \n        delMsg, updateDefaultLoad, hidRoom, purge,\n       updateAbout, BridgeSocket} from './supportRooms';\nimport {adminAction} from './adminAction';\nconst urlencodedParser = bodyParser.urlencoded({ extended: false }) \nvar RateLimit = require('express-rate-limit');\n\nasync function getMainClass(token:string) \n{\n  let res = await userRequest(token); \n  if (res.status != \"SUCCESS\") return \"\";\n  else return res.data.darkQ?\"dark\":\"\";\n}\n\nfunction getToken(req:any) \n{\n  return req.cookies.accountID;\n}\n\nasync function sendFile(res:any, token:string, filePath:string) \n{\n  // console.log(filePath.replace(/(^(.+)\\/|\\.html)/g, \"\"));\n  let suspensionFile = await uDB.findOne({fieldName:\"suspendedPages\", \n                                      page:filePath.replaceAll(/(^(.+)\\/|\\.html)/g, \"\")});\n  let user = await userRequest(token);\n  if (user.status != \"SUCCESS\") user = {data:{perms:0}};\n  if (suspensionFile && \n      suspensionFile.suspended && user.data.perms < 2) \n  {\n    res.sendFile(frontendDir+\"/403.html\");\n    return;\n  }\n  if (!filePath.match(/\\.html$/)) {\n    // console.log(filePath);\n    res.sendFile(filePath); \n    return;\n  }\n  else {\n    fs.readFile(filePath, 'utf8', async (err:any, fileContents:string) => {\n      if (err) {\n        console.error(err);\n        return;\n      }\n      const template = Handlebars.compile(fileContents);\n      // console.log(\"is html\");\n      res.set('Content-Type', 'text/html')\n      res.send(Buffer.from(template({mainClass: await getMainClass(token)})));\n      // console.log(data);\n    });\n  }\n} // sendFile\n\nexport async function initServer() {\n\n\n  // const wss = new WebSocketServer({server:app, path: \"/ws\"});\n  \n  // wss.on('connection', (ws:any)=>{\n  //   ws.on('error', console.log);\n  //   ws.on('message', (data:any)=>{\n  //     console.log('received: %s', data);\n  //   });\n  //   console.log(\"connected!\");\n  //   ws.send('something');\n  // });\n  enableWs(app);\n  var limiter = RateLimit({\n    windowMs: 10*1000, // 10 second\n    max: 50,\n    message: tooManyRequests(),\n    statusCode: 429, // 429 status = Too Many Requests (RFC 6585)\n  });\n  app.use(limiter);\n  app.set('trust proxy', 1)\n  app.get('/ip', (request:any, response:any) => response.send(request.ip))\n  \n  let corsOptions = {\n    credentials: true, \n    origin: true,\n    // allowedHeaders: true\n  };\n  app.use(cors(corsOptions));\n  app.use(new cookieParser());\n  // app.enable('trust proxy');\n  \n  app.get('/', (req:Request, res:any) => {\n    sendFile(res, getToken(req), frontendDir+'/index.html');\n    incrRequests();\n  })\n  \n  app.get('/register', (req:any, res:any) => {\n    sendFile(res, getToken(req), frontendDir+'/signup.html');\n    incrRequests();\n  });\n\n\n  app.get('/account', (req:any, res:any) => {\n    sendFile(res, getToken(req), frontendDir+'/config.html');\n    incrRequests();\n  });\n\n  // else sendFile(res, getToken(req), frontendDir+'/supportIndex.html');\n  \n  app.get('/EE', (req:any, res:any) => {\n    EE(true).then((obj)=>{\n      res.set('Content-Type', 'text/html')\n      res.send(Buffer.from(eeFormat(obj.data.data)));\n    })\n    \n    incrRequests();\n  });\n\n  app.ws('/bridge', (ws:any, req:any)=> {\n    ws.on('message', (msg:any) => {\n      // console.log(msg);\n      let dat = JSON.parse(msg);\n      // console.log(dat);\n      switch(dat.action) {\n        case \"loadLogs\":\n          bridgeH.loadLogs(dat.data.before);\n          break;\n        case \"sendMsg\":\n          bridgeH.sendMsg(dat.data.room, dat.data.parent, dat.data.msg);\n          break;\n        case \"updateAlias\":\n          // console.log(\"here\");\n          bridgeH.updateAlias(dat.data.alias, req.cookies.accountID);\n      }\n      // ws.send(\"reply:\"+msg);\n    });\n    // console.log(\"Bridge was opened to room \"+req.query.room)\n    let bridgeH = new BridgeSocket(req.query.room, ws, req.cookies.accountID);\n    // console.log(bridgeH);\n    ws.send(JSON.stringify({action:\"OPEN\", data:null}));\n    // supportHandler.addConnection(ws, req.query.room, req.cookies.accountID);\n    ws.on(\"close\", () => {\n      bridgeH.onClientClose();\n      // clear the connection\n      // bridgeH.close();\n      // supportHandler.removeConnection(ws, req.query.room, req.cookies.accountID);\n      // console.log(\"Removed stream\");\n    });\n  })\n\n  app.ws('/', (ws:any, req:any) => {\n    ws.on('message', (msg:any) => {\n      let dat = JSON.parse(msg);\n      // console.log(dat);\n      switch(dat.action) {\n        // case \"loadLogs\":\n          // supportHandler.loadLogs(dat.data.before);\n          // break;\n        // case \"sendMsg\":\n          // supportHandler.sendMsg(dat.data.room, dat.data.parent, dat.data.msg);\n          // break;\n        case \"updateAlias\":\n          // console.log(\"here\");\n          supportHandler.updateAlias(dat.data.alias, token)\n            .catch((e)=>{console.log(e);})\n            .then((obj:any)=>{\n              if (obj.status != \"SUCCESS\") ws.send(JSON.stringify({\n                action:\"yourAlias\",\n                data:{alias:obj.data.alias, error: true}\n              }));\n            });\n          break;\n        case \"pong\":\n          console.log(\"ping received\")\n          \n          clearTimeout(connectionTerminator)\n          \n          setTimeout(()=>{\n            console.log(\"ping sent\");\n            ws.send(JSON.stringify({action:\"ping\", data:null}));\n            connectionTerminator = setTimeout(()=>{\n              ws.close(); \n              console.log(\"connection terminated\")\n            }, 1000)\n          }, 10000);\n      }\n      // ws.send(\"reply:\"+msg);\n    });\n    // console.log(\"WebSocket was opened\")\n    ws.send(JSON.stringify({action:\"ping\", data:null}))\n    console.log(\"ping sent\")\n    let connectionTerminator = setTimeout(()=>{\n      ws.close(); \n      console.log(\"connection terminated\")\n    }, 1000)\n    let room = req.query.room;\n    let token = req.cookies.accountID||req.cookies.sessionID;\n    ws.send(JSON.stringify({action:\"OPEN\", data:null}));\n    supportHandler.addConnection(ws, req.query.room, token);\n    ws.on(\"close\", () => {\n      // clear the connection\n      clearTimeout(connectionTerminator);\n      supportHandler.removeConnection(ws, req.query.room, token);\n      // console.log(\"Removed stream\");\n    });\n  });\n  app.get('/that', (req:any, res:any) => {\n    sendFile(res, getToken(req), frontendDir+'/supportIndex.html');\n    incrRequests();\n  });\n  app.get('/that/*', supportReply);\n  app.get('/room/*', (req:any, res:any) => {\n           sendFile(res, getToken(req), frontendDir+'/supportRedirect.html');\n           incrRequests();\n         });\n  app.get('/bridge/*', (req:any, res:any) => {\n     sendFile(res, getToken(req), frontendDir+'/supportRedirect.html');\n     incrRequests();\n   })\n  app.get('/support', (req:any, res:any) => {\n    // if (req.query.room) {\n    //   sendFile(res, getToken(req), frontendDir+'/supportRedirect.html');\n    //   return;\n    // }\n    sendFile(res, getToken(req), frontendDir+'/supportRedirect.html');\n    incrRequests();\n  });\n  // app.get('/that')\n  function supportReply(req:any, res:any) {\n    // console.log(req.url);\n    // let url = new URL(req.href);\n    // let match = req.url.match('(?:.*)room=('+roomRegex+\")\");\n    // if (req.url.match(/^\\/(bridge|room)/)) {\n    let room = req.url.match('(?:bridge|room|that)\\\\/('+roomRegex+')')[1];\n    if (!supportHandler.checkFoundQ(room) && \n        (req.query.bridge!= \"true\" || req.url == \"bridge\")) {\n      console.log(\"Room\", room, \"not found\")\n      sendFile(res, getToken(req), frontendDir+\"/room404.html\");\n      return;\n    }\n    else sendFile(res, getToken(req), frontendDir+'/that.html');\n    // }\n    incrRequests();\n  }\n\n  app.get('/accountDel', (req:any, res:any) => {\n    sendFile(res, getToken(req), frontendDir+'/delAcc.html');\n    incrRequests();\n  });\n\n   app.get('/whois', (req:any, res:any) => {\n    sendFile(res, getToken(req), frontendDir+'/aboutme.html');\n    incrRequests();\n  });\n\n  app.get(\"/cmd\", urlencodedParser, async (req:any, res:any) => {\n    // makeRequest(req.query.action, req.cookies.accountID, req.query.data, \"\", (s:string, d:any, token:string)=>{\n    //   // console.log(d);\n    //   if (s == \"SUCCESS\") sendFile(res, getToken(req), frontendDir+'/actionComplete.html');\n    //   else {sendFile(res, getToken(req), frontendDir+'/error.html')}\n    // })\n    sendFile(res, getToken(req), frontendDir+'/403.html')\n    incrRequests();\n  })\n\n  app.get(\"*/nodemodules/*\", (req:any, res:any) => {\n    // no long requests!\n    if (req.url.length > 500) sendFile(res, getToken(req), frontendDir+\"/404.html\");\n    else res.sendFile(rootDir+\"node_modules\"+req.url.replace(/.*nodemodules/, \"\"));\n    incrRequests();\n  })\n    \n\n\n  app.get(\"/paste\", (req:any, res:any) => {\n    sendFile(res, getToken(req), frontendDir+\"newpaste.html\");\n    incrRequests();\n  })\n  \n  // app.get(\"/paste/\", (req:any, res:any) => {\n  //   sendFile(res, getToken(req), frontendDir+\"/newpaste.html\");\n  //   incrRequests();\n  // })\n  \n  app.get(\"/paste/*\", (req:any, res:any) => {\n    sendFile(res, getToken(req), frontendDir+\"paste.html\");\n    incrRequests();\n  })\n\n  \n  app.get('*/favicon.ico', (req:Request, res:any)=> {\n    sendFile(res, getToken(req), rootDir+'favicon.ico')\n    incrRequests();\n  })\n\n  app.get('*/icon.png', (req:Request, res:any)=> {\n    sendFile(res, getToken(req), rootDir+'temp.png')\n    incrRequests();\n  })\n\n  app.get('*/notif.wav', (req:Request, res:any)=> {\n    sendFile(res, getToken(req), rootDir+'notif.wav')\n    incrRequests();\n  })\n  \n  app.get('/support.js', (req:any, res:any) => {\n    sendFile(res, getToken(req), frontendDir+\"support.js\");\n    incrRequests();\n  })\n\n  app.get('*.svg', (req:any, res:any) => {\n    const date = new Date();\n    date.setFullYear(date.getFullYear() + 1);\n    res.setHeader(\"expires\", date.toUTCString());\n    res.setHeader(\"cache-control\", \"public, max-age=31536000, immutable\");\n    res.sendFile(frontendDir+req.url);\n    incrRequests();\n  })\n  \n  app.get('/*.js*', (req:any, res:any) => {\n    res.sendFile(jsDir+req.url);\n    incrRequests();\n  })\n\n  \n  app.get('/*.ts', (req:any, res:any) => {\n    res.sendFile(jsDir+req.url);\n    incrRequests();\n  })\n\n  app.get('/*.css', (req:any, res:any) => {\n    res.sendFile(frontendDir+req.url);\n    incrRequests();\n  })\n\n  app.get(\"/stream\", (req:any, res:any) =>{\n    res.set({\n      'Cache-Control': 'no-cache',\n      'Content-Type': 'text/event-stream',\n      'Connection': 'keep-alive'\n    });\n    res.flushHeaders();\n    res.write(\"retry:500\\n\\n\");\n    // add the connection\n    supportHandler.addConnection(res, req.query.room, req.cookies.accountID);\n    res.on(\"close\", () => {\n      // clear the connection\n      supportHandler.removeConnection(res, req.query.room, req.cookies.accountID);\n      res.end();\n      // console.log(\"Removed stream\");\n    });\n  });\n\n  app.get('/redirector', (req:any, res:any)=>{\n    sendFile(res, getToken(req), rootDir+\"/.github/pages/index.html\");\n    incrRequests();\n  });\n  \n  app.post('/oauth2callback', (req:any, res:any)=>{\n    // console.log(\"??\")\n    // console.log(req.url);\n  })\n\n  app.get('/*', (req:any, res:any) => {\n    let requrl = req.url.match(\"([^?]*)\\\\??.*\")[1]; // do not care about the stuff after the ?\n    let idx = validPages.findIndex((obj)=>obj.toLowerCase()==requrl.toLowerCase());\n    if (idx>=0) sendFile(res, getToken(req), frontendDir+validPages[idx]+\".html\");\n    else {\n      res.status(404);\n      sendFile(res, getToken(req), frontendDir+\"404.html\");\n    }\n    incrRequests();\n  })\n  \n\n  const banList= [\"\"];\n  app.post('/server', urlencodedParser, async (req:any, res:any) => {\n    incrRequests();\n    if (req.headers['content-length'] > 60000) {\n      res.set(\"Connection\", \"close\");\n      res.status(413).end();\n      return;\n    }\n    let addr = req.ip; \n    // console.log(addr);\n    if (banList.indexOf(addr) >= 0) \n    {\n      res.end(JSON.stringify({status:\"ERROR\", data:{error: \"IP banned, contact BetaOS if this was done in error.\"}}));\n      return;\n    }\n    var body = await parse.json(req);\n    if (!body) res.end(JSON.stringify({status:\"ERROR\", data:{error:\"No command string\"}}));\n    // let cookiematch = req.cookies.match(\"accountID=[0-9a-zA-Z\\\\-]\");\n    // COOKIE ACCEPTANCE DIALOG \n    if (body.action == \"cookieRequest\") {\n      res.end(JSON.stringify({data:req.cookies.acceptedQ??false}))\n      return;\n    }\n    if (body.action == \"acceptCookies\") {\n      res.cookie('acceptedQ', true, {httpOnly: true, secure:true, sameSite:\"None\"})\n      res.end(JSON.stringify(\"\"));\n      return;\n    }\n    if (body.action == \"accountID\") {\n      if (req.cookies.accountID) \n        res.end(JSON.stringify({status:\"SUCCESS\", data:{id:req.cookies.accountID}}));\n      else \n        res.end(JSON.stringify({status:\"ERROR\", data:{error:\"Not logged in\"}}));\n      return;\n    }\n    if (body.action == \"setAccountID\") {\n      res.cookie('accountID', body.data.id, {httpOnly: true, secure:true, sameSite:\"None\"})\n      res.end(JSON.stringify({status:\"SUCCESS\", data:null}));\n      return;\n    }\n\n    if (!req.cookies.sessionID) res.cookie('sessionID', crypto.randomUUID(), {httpOnly:true, secure:true, sameSite:\"None\"});\n    //////////////////////////\n\n    makeRequest(body.action, req.cookies.accountID, body.data, req.cookies.sessionID)\n    .then((ret:{status:string, data:any, token:string})=>{\n      /*if(body.action==\"login\"||body.action == \"logout\" ||\n        body.action == \"delAcc\" || body.action == \"signup\")*/\n      if (ignoreLog.indexOf(body.action)>=0){}\n      else if (ret.status==\"SUCCESS\") {\n        log(\"Action performed: \"+body.action+\", response:\"+JSON.stringify(ret.data));\n      }\n      else log(\"Action performed: \"+body.action+\", error:\"+ret.data.error);\n      res.cookie('accountID', ret.token??\"\", {httpOnly: true, secure:true, sameSite:\"None\", maxAge:9e12});\n      res.end(JSON.stringify({status:ret.status, data:ret.data}));\n    });\n  });\n  \n  if (process.env.localhost) \n    app.listen(port, 'localhost', function() {\n      console.log(\"Listening\");\n    });\n  else app.listen(port);\n}\n\nasync function makeRequest(action:string|null, token:string, data:any|null, sessID:string) {\n  if (!connectionSuccess) {\n    return {status:\"ERROR\", data:{error:\"Database connection failure\"}, token:token};\n  }\n  // console.log(\"request made\");\n  try {\n    let obj:{status:string, data:any, token:string};\n    switch (action) {\n      case 'test':\n        obj = {status:\"SUCCESS\", data:{abc:\"def\", def:5}, token:token};\n        break;\n      case 'login': \n        obj = await validateLogin(data.user, data.pass, data.persistQ, token);\n        break;\n      case 'startupData':\n        obj = {status:\"SUCCESS\", data:{\n          branch: process.env.branch,\n          domain:process.env.domain,\n          unstableDomain:process.env.unstableDomain,\n        }, token:token};\n        break;\n      case 'signup':\n        obj = await signup(data.user, data.pass, token);\n        break;\n      case 'userRequest': \n        obj = await userRequest(token)\n        break;\n      case 'extendSession': \n        obj = await extendSession(token)\n        break;\n      case 'roomRequest':\n        obj = roomRequest(token); // this one is synchronous\n        break;\n      case 'createRoom':\n        obj = await createRoom(data.name, token)\n        break;\n      case 'deleteRoom':\n        obj = await deleteRoom(data.name, token)\n        break;\n      case 'statusRequest':\n        obj = roomRequest(token, true); // synchronous\n        break;\n      case 'getEE':\n        obj = await EE(true, token, \"\"); // synchronous\n        break;\n      case 'setEE':\n        obj = await EE(false, token, data.data); // synchronous\n        break;\n      case 'updateuser': \n        obj = await updateUser(data.user, data.oldPass, data.pass, data.newPermLevel, token)\n        break;\n      case 'delAcc':\n        obj = await deleteAccount(data.user, data.pass, token)\n        break;\n      case 'logout':\n        obj = await logout(token)\n        break;\n      case 'logout_all':\n        obj = await logout(token, true)\n        break;\n      case 'sendMsg':\n        obj = await sendMsg(data.msg, data.room, data.parent, token||sessID);\n        break;\n      case 'lookup':\n        obj = await WHOIS(token, data.user)\n        break;\n      case \"getLogs\":\n        obj = await getLogs(token)\n        break;\n      case \"purgeLogs\":\n        obj = await purgeLogs(token)\n        break;\n      case \"realias\":\n        obk = {status:\"SUCCESS\", data:null, token:token};\n        // obj = await realias(data.alias, token)\n        break;\n      case \"visits\":\n        obj = await visitCt(token)\n        break;\n      case \"addTODO\":\n        obj = await addTask(token)\n        break;\n      case \"getTodo\":\n        obj = await getTasks(token)\n        break;\n      case \"updateTODO\":\n        obj = await updateTask(token, data.id, data.updated)\n        break;\n      case \"deleteTODO\":\n        obj = await deleteTask(token, data.id)\n        break;\n      case \"completeTODO\":\n        obj = await deleteTask(token, data.id, true)\n        break;\n      case \"loadLogs\": // {\"action\":\"loadLogs\",\"room\":\"BetaOS\",\"id\":\"11\",\"from\":24}\n        obj = await loadLogs(data.room, data.id, data.from, /*don't touch it*/ false, token)\n        break;\n      case \"delMsg\":\n        obj = await delMsg(data.id, data.room, token||sessID)\n        break\n      case \"updateDefaultLoad\":\n        obj = await updateDefaultLoad(data.new, token)\n        break;\n      case \"hidRoom\":\n        obj = await hidRoom(data.name, token)\n        break;\n      case \"purge\":\n        obj = await purge(data.name, token)\n        break;\n      case \"uptime\":\n        obj = await uptime(token)\n        break;\n      case 'toggleTheme':\n        obj = await toggleTheme(token)\n        break;\n      case \"updateAboutMe\":\n        obj = await updateAbout(data.new, token)\n        break;\n      case \"paste\":\n        obj = await paste(data.content, data.name, data.pwd, token)\n        break;\n      case \"findPaste\":\n        obj = await findPaste(data.name, data.pwd, token)\n      case \"editPaste\":\n        obj = await editPaste(data.content, data.name, data.pwd, token)\n        break;\n      case \"clickIt\":\n        obj = await clickIt(token)\n        break;\n      case \"leaderboard\":\n        obj = await getLeaderboard(token)\n        break;\n      case \"newIssue\":\n        obj = await newIssue(data.title, data.body, data.priority, data.tags??[], token, sessID)\n        break;\n      case \"loadIssues\":\n        // console.log(sessID);\n        obj = await loadIssues(data.from, data.ct, data.completedOnly, token)\n        break;\n      case \"deleteissue\":\n        obj = await deleteIssue(data.id, token)\n        break;\n     case \"completeissue\":\n        obj = await completeIssue(data.id, token)\n        break;\n      case \"editissue\":\n        obj = await editIssue(data.id, data.newTitle, data.newBody, data.newPriority, data.tags??[], token)\n        break;\n      case \"adminAction\":\n        obj = await adminAction(data.action, data.options, token)\n        break;\n      default:\n        obj = {status:\"ERROR\", data:{error: \"Unknown command string!\"}, token:token};\n    }\n    // console.log(obj);\n    return obj;\n  } catch (e:any) {\n    console.log(\"Error:\", e);\n    return {status:\"ERROR\", data:{error:\"Error, see console\"}, token:token};\n  }\n}\n\n\nfunction eeFormat(data:string, mainClass:string) {\n  return `<!DOCTYPE html>\n<html class=\"${mainClass}\">\n  <head>\n    <script src='./utils.js'></script>\n    <title>Everyone Edits</title>\n    <script>\n    </script>\n    <meta name=\"viewport\" content=\"width=device-width\">\n    <link rel=\"stylesheet\" href=\"https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200\" />\n    <link href=\"https://fonts.googleapis.com/css2?family=Noto+Sans+Display:wght@100;400;500;600;700&display=swap\" rel=\"stylesheet\">\n    <link rel=\"preconnect\" href=\"https://fonts.googleapis.com\">\n    <link rel=\"preconnect\" href=\"https://fonts.gstatic.com\" crossorigin>\n    <link rel=\"stylesheet\" href=\"/globalformat.css\">\n    <style>\n    </style>\n  </head>\n  <body onload = \"globalOnload();\">\n    <div class=\"main_content\">\n    <header>\n      <h2>Everybody edits!</h2>\n      <hr class=\"rounded\">\n    </header>\n      ${data}\n      <br>\n      <a class=\"btn fssml\" href=\"/EEdit\">\n    <span class=\"material-symbols-outlined\">edit</span>\n    Edit this page\n    <div class=\"anim\"></div></a>\n    <a class=\"btn fssml\" href=\"/\">\n    <span class=\"material-symbols-outlined\">arrow_back_ios</span>\n    \n    Return to home<div class=\"anim\"></div></a>\n    </div>\n  </body>\n</html>`;\n}\n\nfunction tooManyRequests() {\n  return `<!DOCTYPE html>\n<html class=\"{{mainClass}}\">\n  <head>\n    <title>Error 429</title>\n    <script>\n    ${fs.readFileSync(jsDir+\"utils.js\")}\n    </script>\n    <meta name=\"viewport\" content=\"width=device-width\">\n    <link rel=\"stylesheet\" href=\"https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200\" />\n    <link href=\"https://fonts.googleapis.com/css2?family=Noto+Sans+Display:wght@100;400;500;600;700&display=swap\" rel=\"stylesheet\">\n    <link rel=\"preconnect\" href=\"https://fonts.googleapis.com\">\n    <link rel=\"preconnect\" href=\"https://fonts.gstatic.com\" crossorigin>\n    <style>\n      ${fs.readFileSync(frontendDir+\"/globalformat.css\")}\n    </style>\n  </head>\n  <body onload=\"globalOnload(()=>{}, true)\">\n    <div class=\"main_content\">\n    <header>\n      <h2>Error: Too many requests</h2>\n      <hr class=\"redrounded\">\n    </header>\n    <p class=\"fsmed\"><span class=\"material-symbols-outlined red nohover nooutline\">error</span>\n    Try <button class=\"btn fssml\" onclick=\"location.reload()\">\n    <span class=\"material-symbols-outlined\">refresh</span>\n    refreshing.<div class=\"anim\"></div></button></p>\n    </div>\n  </body>\n</html>`;\n}\n\nconst validPages = [\"/commands\", '/contact', '/EEdit', '/todo', '/status', '/logout', '/signup', \n                    '/config', '/admin', '/docs', '/login', '/syslog', '/aboutme', '/mailertest',\n                    \"/timer\", \"/newpaste\", \"/pastesearch\", '/clickit', '/capsdle', '/sweepthatmine',\n                   \"/stopwatch\", \"/testbed\", '/credits', '/atomicmoose', '/issuetracker', '/graphIt', \n                    '/betterselect', '/redirect', '/betterselect.js', \"/minimalLogin\", \"/minimalSignup\",\n                    \"/8192\", \"/imgedit\", \"/leaderboard\", \"/eval\"];\n\nconst ignoreLog = [\"getEE\", \"userRequest\", 'getLogs', 'loadLogs', 'visits', \n                   'roomRequest', 'sendMsg', 'clickIt', 'leaderboard',\n                  'findPaste', 'startupData'];"],
  "mappings": "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",
  "names": ["Handlebars"]
}
