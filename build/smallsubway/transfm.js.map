{
  "version": 3,
  "sources": ["../../smallsubway/transfm.js"],
  "sourcesContent": ["/// BE REALLY CAREFUL IF YOU TOUCH ANY OF THIS STUFF\n\n\n\nfunction withinViewport(newPt) {\n  // let viewportScl = minSclFac*0.8;\n  // should be <1 and decreasing\n  if (newPt.x < -viewportW / 2) return false;\n  if (newPt.x > viewportW / 2) return false;\n  if (newPt.y < -viewportH / 2) return false;\n  if (newPt.y > viewportH / 2) return false;\n  return true;\n}\n\nfunction updateMinScl(newVal = minSclFac) {\n  minSclFac = newVal;\n  viewportW = canv.width / minSclFac * 0.4;\n  viewportH = canv.height / minSclFac * 0.4;\n  viewportMax = Math.max(viewportW, viewportH);\n  viewportMin = Math.min(viewportW, viewportH);\n}\n\n/// the matrix stuff :V\nlet transfm = [1, 0, 0,\n  0, 1, 0];\nfunction translate(x, y) {\n  transfm[2] += x;\n  transfm[5] += y;\n  applyTransfm();\n}\nfunction fromCanvPos(canvX, canvY) {\n  return { x: (canvX - transfm[2]) / transfm[0], y: (canvY - transfm[5]) / transfm[4] };\n}\nfunction scale(scl) {\n  // matrix mult with [\n  // sclX 0\n  // 0  sclY\n  // 0  0\n  for (let i = 0; i < 6; i++) transfm[i] *= scl;\n  applyTransfm();\n}\nfunction applyTransfm() {\n  ctx.setTransform(transfm[0], transfm[3], transfm[1], transfm[4], transfm[2], transfm[5]);\n}\n\n"],
  "mappings": ";AAIA,SAAS,eAAe,OAAO;AAG7B,MAAI,MAAM,IAAI,CAAC,YAAY;AAAG,WAAO;AACrC,MAAI,MAAM,IAAI,YAAY;AAAG,WAAO;AACpC,MAAI,MAAM,IAAI,CAAC,YAAY;AAAG,WAAO;AACrC,MAAI,MAAM,IAAI,YAAY;AAAG,WAAO;AACpC,SAAO;AACT;AAEA,SAAS,aAAa,SAAS,WAAW;AACxC,cAAY;AACZ,cAAY,KAAK,QAAQ,YAAY;AACrC,cAAY,KAAK,SAAS,YAAY;AACtC,gBAAc,KAAK,IAAI,WAAW,SAAS;AAC3C,gBAAc,KAAK,IAAI,WAAW,SAAS;AAC7C;AAGA,IAAI,UAAU;AAAA,EAAC;AAAA,EAAG;AAAA,EAAG;AAAA,EACnB;AAAA,EAAG;AAAA,EAAG;AAAC;AACT,SAAS,UAAU,GAAG,GAAG;AACvB,UAAQ,MAAM;AACd,UAAQ,MAAM;AACd,eAAa;AACf;AACA,SAAS,YAAY,OAAO,OAAO;AACjC,SAAO,EAAE,IAAI,QAAQ,QAAQ,MAAM,QAAQ,IAAI,IAAI,QAAQ,QAAQ,MAAM,QAAQ,GAAG;AACtF;AACA,SAAS,MAAM,KAAK;AAKlB,WAAS,IAAI,GAAG,IAAI,GAAG;AAAK,YAAQ,MAAM;AAC1C,eAAa;AACf;AACA,SAAS,eAAe;AACtB,MAAI,aAAa,QAAQ,IAAI,QAAQ,IAAI,QAAQ,IAAI,QAAQ,IAAI,QAAQ,IAAI,QAAQ,EAAE;AACzF;",
  "names": []
}
