{
  "version": 3,
  "sources": ["../../smallsubway/uihandler.js"],
  "sourcesContent": ["K.DIALOG_TIME = 0;\nK.DIALOG_SHOP = 1;\nlet dialogIDs = [\"timeMenu\", \"upgrades\"]\nfunction toggleDialog(toOpen) {\n  for (let id of dialogIDs) {\n    let dialog = byId(id);\n    if (id == dialogIDs[toOpen]) {\n      if (dialog.classList.contains(\"open\")) \n        dialog.classList.remove(\"open\");\n      else dialog.classList.add(\"open\");\n    } else {\n      dialog.classList.remove(\"open\");\n    }\n    \n    \n  }\n}\n\nfunction openDialog(toOpen) {\n  for (let id of dialogIDs) {\n    let dialog = byId(id);\n    if (id == dialogIDs[toOpen]) {\n      dialog.classList.add(\"open\");\n    } else {\n      dialog.classList.remove(\"open\");\n    }\n\n\n  }\n}\n\nfunction toggleSpeed() {\n  currSpeed = currSpeed == 1?2:1;\n  byId(\"speed\").innerHTML = `Current speed: ${currSpeed}x`;\n}\n\nfunction HTMLActions() {\n  byId(\"pServed\").innerText = passengersServed;\n  let time = ingametime();\n  if (holdState == K.HOLD_TRAIN) {\n    byId('topBar').style.pointerEvents = 'none';\n  }\n  else byId('topBar').style.pointerEvents = 'all';\n  byId(\"time\").innerText = (paused?'(Paused) ':\"\")+`${padWithZero(time.h)}:${padWithZero(time.m)}`;\n  byId(\"date\").innerText = `Day ${padWithZero(time.d)} (year ${time.y+1})`\n  if (paused)\n  byId(\"playpause\").innerHTML = \"resume\";\n  else byId(\"playpause\").innerHTML = \"pause\";\n  byId(\"trainsAvailable\").innerText = trainsAvailable;\n  let mInner = byId(\"popInner\");\n  byId(\"balance\").innerHTML = (balance/1000).toFixed(3);\n  mInner.style.width = (currPopulationPool/basePopulationPool)*50+\"%\"; // 0% to 200%\n  mInner.innerText = Math.floor(currPopulationPool)+\" passengers\";\n  byId(\"linesAvailable\").innerText = linesAvailable - lines.length;\n  if (currPopulationPool > basePopulationPool) mInner.style.backgroundColor = \"var(--system-yellowtext)\";\n  else mInner.style.backgroundColor = \"var(--system-green)\";\n  if (currCost > 0) {\n    let costEle =  byId(\"currCost\");\n    costEle.classList.remove(\"displayNone\")\n    costEle.innerText = (currCost/1000).toFixed(2).toLocaleString();\n    costEle.style.left = currPos_abs.x+10+\"px\";\n    costEle.style.top = currPos_abs.y+\"px\";\n    if (overCost) costEle.classList.add(\"overCost\");\n    else costEle.classList.remove(\"overCost\");\n  }\n  else byId(\"currCost\").classList.add(\"displayNone\");\n  byId(\"lines2\").innerText = (lineCost/1000).toFixed(2);\n  byId(\"trains2\").innerText = (trainCost/1000).toFixed(2);\n  byId(\"budget\").innerText = (yearlyBudget/1000).toFixed(2);\n  for (let i=0; i<upgradeInfo.length; i++) {\n    byId(\"upgrade\"+i).innerText = (upgradeInfo[i].cost/1000).toFixed(2);\n  }\n  byId(\"purchase0\").innerHTML = \"Improve train speed (\"+trainSpeed*500+\"kph)\"\n  byId(\"purchase1\").innerHTML = \"Lengthen existing trains (\"+trainLength*10+ \" passengers)\";\n  byId(\"purchase2\").innerHTML = \"Improve station capacity (\"+stationCap*10+ \" people)\";\n  byId(\"purchase3\").innerHTML = \"Petition for a larger budget cap ($\"+(balanceCap/1000).toFixed(2)+\"m)\";\n  setTimeout(HTMLActions, 100);\n  \n}\n\nlet upgradeInfo = [\n  {cost:10000, mult:2, action:()=>{trainSpeed *= 1.25;}},\n  {cost:9000, mult:3, action:()=>{for (train of trains) {train.cap+=2;}; trainLength+=2;}},\n  {cost:12000, mult:1.5, action:()=>{for (stop of stops) {stop.cap+=3;}; stationCap+=3;}},\n  {cost:100000, mult:1.5, action:()=>{balanceCap *= 1.5;}},\n]\n\nfunction purchaseUpgrade(i) {\n  if (balance > upgradeInfo[i].cost) {\n    balance -= upgradeInfo[i].cost;\n    upgradeInfo[i].cost *= upgradeInfo[i].mult;\n    upgradeInfo[i].action();\n  }\n}"],
  "mappings": "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",
  "names": []
}
